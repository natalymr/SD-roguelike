# Roguelike Design Document

Здесь представлена реализация консольной игры из жанра Roguelike. Существует большое количество игр, созданных в данном жанре, которые значительно отличаются друг от друга. Однако у каждой из них обязательно есть особенности, характерные для данного жанра игр: случайная генерация карты, пошаговость и необратимость смерти персонажа.

## Игровой процесс

Герой просыпается на песчаной арене, кишащей троллями и орками. Он не может ничего вспомнить. Однако в руке он обнаруживает записку: "Спасите меня, я в большой беде по ту сторону стены". Игрок решает во что бы то ни стало помочь незнакомцу и отправляется в путь. Он хочет найти выход из лабиринта. На своем пути ему придется столкнуться со множеством опасностей. Однако он не будет унывать, ему будет придавать сил мысль о помощи попавшему в беду человеку.

P.S.: выход из лабиринта написать не успела.

### Роли и случаи использования

##### Роль

Роль здесь одна, а именно, пользователь данной игры, который пытается её пройти.

##### Случаи использования

Главное использование данной системы -- это играть за персонажа, который двигается по карте, исследует карту, собирает и использует предметы, а также борется с монстрами.

##### Описание типичного пользователя

Типичный пользователем данной системы является любитель консольных приложений, для которого самым важным в любой игре являются сюжет и стратегия. Он также, скорее всего, окажется фанатом различных настольных игр, например таких, как Подземелье и Драконы.

### Architectural drivers

+ Игра должна быть консольной.
+ Персонаж, за которого играет пользователь, должен иметь hp, по которому можно было бы определять, проиграл ли игрок или нет.
+ Карта должна генерироваться случайно.
+ На карте также должны присутствовать различные монстры, с которыми персонажу нужно будет бороться.
    * У монстров тоже должно быть hp, по которым определялась бы их смерть.
    * У монстров должно быть задано поведение: например, при приближении персонажа к ним, они начинают атаковать.
+ Также на карте должны присутствовать различные предметы, которые персонаж может использовать.
    * У персонада должна быть возможность подобрать предмет либо выкинуть.
    * Персонаж может использовать предметы: например, он может "надеть" броню, которая уменьшает урон, который монстры наносят персонажу.
    * У персонажа должен быть рюкзак, в который можно складывать предметы.



### Боевая система

Игрок автоматически атакует любое существо, которое находится на клетке, в которую он пытается шагнуть.

Количество урона, которое существо наносит врагу, вычисляется как `сила существа - защита врага`.

### Экипировка

По карте разбросаны предметы, которые может использовать игрок. Эти предметы могут увеличивать характеристики героя: силу, защиту или уровень здоровья. Например, целебное зелье восстанавливает часть здоровья игрока.

Также у игрока есть сумка, в которой он может хранить собранные предметы для дальнейшего использования.

### Экраны

В игре есть два режима: игровой, на котором отображается карта и сам игрок, уровень его здоровья, а также лог игровых событий,
и экран взаимодействия с инвентарем.

## Диаграмма компонентов

Компонентом для запуска игры является компонент `Main`.

Компонент `Graphics` отвечает за отрисовку игрового мира.

Компонент `handle keys` отвечает за распознавание команд пользователя. 

Компонент `reaction on event` меняет состояние игры в зависимости от действий игрока (таких как нанесение урона врагам или использование предметов).

![components diagram](./components_mur.jpg)

## Диаграмма классов

![class diagram](./Roguelike_class_diagram.png)

Класс Entity представляет собой существо из мира игры. Его боевыми действиями управляет класс Fighter. Существо может носить с собой некоторое количество предметов (представленных классом Item) в инвентаре.

Оповещение игрока осуществляется с помощью класса MessageLog, в который записываются сообщения, генерируемые системой в процессе игры.

## Диаграмма последовательностей

![sequence_diagram](./sequence_diagram_roguelike.png)

На данной диаграме показано взаимодействие системы с основными элементами игровой системами: инвентарь, предметы и мобы.


## Диаграма состояний

![state_diagram](./automata_mur.jpg)

Данная диаграмма отображает изменение состояния игры в зависимости от действий игрока (таких как атаки и взаимодействие с предметами).
